<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Verify Email – ASCEND</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
:root {
  --bg: #0a0a0a;
  --card: #141414;
  --gold: #bd9f67;
  --text: #ffffff;
  --muted: rgba(255,255,255,0.65);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Inter', sans-serif;
}

body {
  height: 100vh;
  background: var(--bg);
  color: var(--text);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* LOGO */
.logo {
  position: absolute;
  top: 32px;
  left: 32px;
  font-size: 14px;
  font-weight: 700;
  letter-spacing: 0.45em;
}

/* LANGUAGE */
.lang {
  position: absolute;
  top: 32px;
  right: 32px;
  font-size: 14px;
  cursor: pointer;
  color: var(--muted);
}

.lang span {
  margin-left: 10px;
}

.lang .active {
  color: var(--gold);
  font-weight: 600;
}

/* CARD */
.card {
  max-width: 420px;
  padding: 36px;
  border-radius: 20px;
  background: var(--card);
  border: 1px solid rgba(189,159,103,0.25);
  text-align: center;
  animation: fadeIn 0.8s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

.card h1 {
  font-size: 24px;
  font-weight: 600;
  color: var(--gold);
  margin-bottom: 16px;
}

.card p {
  font-size: 15px;
  color: var(--muted);
  line-height: 1.6;
}

/* LOADER */
.loader {
  margin: 28px auto;
  width: 42px;
  height: 42px;
  border-radius: 50%;
  border: 4px solid rgba(255,255,255,0.2);
  border-top: 4px solid var(--gold);
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.resend {
  background: none;
  border: none;
  color: var(--gold);
  cursor: pointer;
  font-size: 14px;
}
</style>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "DIN_API_KEY",
  authDomain: "DITT_PROJEKT.firebaseapp.com",
  projectId: "DITT_PROJEKT",
  appId: "DIN_APP_ID"
};

firebase.initializeApp(firebaseConfig);
</script>

</head>
<body>

<!-- LOGO -->
<div class="logo">A C S E N D</div>

<!-- LANGUAGE SWITCH -->
<div class="lang">
  <span id="sv" class="active">SV</span>
  <span id="en">EN</span>
</div>

<!-- CARD -->
<div class="card">
  <h1 id="title">Verifiera din e-post</h1>
  <p id="text">
    Ett verifieringsmail har skickats till din angivna e-postadress.<br><br>
    Följ instruktionerna i mailet för att fortsätta.
  </p>

  <div class="loader"></div>

  <button class="resend" onclick="resend()">Skicka igen</button>
</div>

<script>
const auth = firebase.auth();

/* Firebase verification check */
auth.onAuthStateChanged(user => {
  if (!user) {
    window.location.href = "get-started.html";
  }

  setInterval(async () => {
    await user.reload();
    if (user.emailVerified) {
      window.location.href = "dashboard.html";
    }
  }, 2000);
});

/* Resend email */
function resend() {
  const user = auth.currentUser;
  if (user) {
    user.sendEmailVerification();
    alert("Verifieringsmail skickat igen.");
  }
}

/* Language switch */
const sv = document.getElementById("sv");
const en = document.getElementById("en");

sv.onclick = () => {
  sv.classList.add("active");
  en.classList.remove("active");
  document.getElementById("title").innerText = "Verifiera din e-post";
  document.getElementById("text").innerHTML =
    "Ett verifieringsmail har skickats till din angivna e-postadress.<br><br>Följ instruktionerna i mailet för att fortsätta.";
};

en.onclick = () => {
  en.classList.add("active");
  sv.classList.remove("active");
  document.getElementById("title").innerText = "Verify your email";
  document.getElementById("text").innerHTML =
    "A verification email has been sent to your email address.<br><br>Please follow the instructions in the email to continue.";
};
</script>

</body>
</html>
